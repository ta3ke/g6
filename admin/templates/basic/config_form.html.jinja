{% extends "base.html.jinja" %}

{% block title %}기본환경설정{% endblock title %}

{% block subtitle %}기본환경설정{% endblock subtitle %}

{% block content %}

  {{ pg_anchor }}
  {% set pg_anchor %}
  {% endset %}
  <ul class="anchor">
    <li><a href="#anc_cf_basic">기본환경</a></li>
    <li><a href="#anc_cf_board">게시판기본</a></li>
    <li><a href="#anc_cf_join">회원가입</a></li>
    <li><a href="#anc_cf_cert">본인확인</a></li>
    <!-- <li><a href="#anc_cf_url">짧은주소</a></li> -->
    <li><a href="#anc_cf_mail">기본메일환경</a></li>
    <li><a href="#anc_cf_article_mail">글작성메일</a></li>
    <li><a href="#anc_cf_join_mail">가입메일</a></li>
    <li><a href="#anc_cf_poll_mail">설문조사메일</a></li>
    <li><a href="#anc_cf_sns">SNS</a></li>
    <li><a href="#anc_cf_lay">레이아웃 추가설정</a></li>
    <li><a href="#anc_cf_sms">SMS</a></li>
    <li><a href="#anc_cf_extra">여분필드</a></li>
  </ul>
  {{ pg_anchor }}
  <form
    name="fconfigform"
    method="post"
    action="/admin/config_form_update"
    onsubmit="return fconfigform_submit(this);"
    enctype="application/x-www-form-urlencoded"
    autocomplete="off"
  >
    <input type="hidden" name="token" value="" />

    <section id="anc_cf_basic">
      <h2 class="h2_frm">홈페이지 기본환경 설정</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            홈페이지 기본환경 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row">
                <label for="cf_title">홈페이지 제목<strong class="blind">필수</strong></label>
              </th>
              <td colspan="3"><input type="text" name="cf_title" value="{{ config.cf_title|safe }}" id="cf_title" class="required frm_input" size="40" /></td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_admin">최고관리자<strong class="blind">필수</strong></label>
              </th>
              <td colspan="3">{{ get_member_id_select('cf_admin', 10, config.cf_admin, 'required')|safe }}</td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_admin_email">관리자 메일 주소<strong class="blind">필수</strong></label>
              </th>
              <td colspan="3">
                <span class="frm_info">관리자가 보내고 받는 용도로 사용하는 메일 주소를 입력합니다. (회원가입, 인증메일, 테스트, 회원메일발송 등에서 사용)</span>
                <input type="text" name="cf_admin_email" value="{{ config.cf_admin_email }}" id="cf_admin_email" class="required email frm_input" size="40" />
                <span class="frm_info">1) 외부메일 설정을 사용 중이시라면, 외부메일 설정에서 사용 중인 메일 주소를 입력해야 메일이 정상적으로 발송됩니다.</span>
                <span class="frm_info"
                  >2) 외부메일 설정이나 기타 설정을 하지 않았다면, 도메인과 다른 헤더로 여겨 스팸이나 차단될 가능성이 있습니다.<br />name@49.247.41.166 과 같은 도메인 형식으로
                  설정할것을 권장합니다.</span
                >
              </td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_admin_email_name">관리자 메일 발송이름<strong class="blind">필수</strong></label>
              </th>
              <td colspan="3">
                <span class="frm_info">관리자가 보내고 받는 용도로 사용하는 메일의 발송이름을 입력합니다. (회원가입, 인증메일, 테스트, 회원메일발송 등에서 사용)</span>
                <input type="text" name="cf_admin_email_name" value="{{ config.cf_admin_email_name }}" id="cf_admin_email_name" class="required frm_input" size="40" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_use_point">포인트 사용</label></th>
              <td colspan="3"><input type="checkbox" name="cf_use_point" value="1" id="cf_use_point" {{ 'checked' if config.cf_use_point else '' }} /> 사용</td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_login_point">로그인시 포인트<strong class="blind">필수</strong></label>
              </th>
              <td>
                <span class="frm_info">회원이 로그인시 하루에 한번만 적립</span>
                <input type="text" name="cf_login_point" value="{{ config.cf_login_point }}" id="cf_login_point" class="required frm_input" size="5" /> 점
              </td>
              <th scope="row">
                <label for="cf_memo_send_point">쪽지보낼시 차감 포인트<strong class="blind">필수</strong></label>
              </th>
              <td>
                <span class="frm_info">양수로 입력하십시오. 0점은 쪽지 보낼시 포인트를 차감하지 않습니다.</span>
                <input type="text" name="cf_memo_send_point" value="{{ config.cf_memo_send_point }}" id="cf_memo_send_point" class="required frm_input" size="5" /> 점
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_cut_name">이름(닉네임) 표시</label></th>
              <td colspan="3"><input type="text" name="cf_cut_name" value="{{ config.cf_cut_name }}" id="cf_cut_name" class="frm_input" size="5" /> 자리만 표시</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_nick_modify">닉네임 수정</label></th>
              <td>수정하면 <input type="text" name="cf_nick_modify" value="{{ config.cf_nick_modify }}" id="cf_nick_modify" class="frm_input" size="3" /> 일 동안 바꿀 수 없음</td>
              <th scope="row"><label for="cf_open_modify">정보공개 수정</label></th>
              <td>수정하면 <input type="text" name="cf_open_modify" value="{{ config.cf_open_modify }}" id="cf_open_modify" class="frm_input" size="3" /> 일 동안 바꿀 수 없음</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_new_del">최근게시물 삭제</label></th>
              <td>
                <span class="frm_info">설정일이 지난 최근게시물 자동 삭제</span>
                <input type="text" name="cf_new_del" value="{{ config.cf_new_del }}" id="cf_new_del" class="frm_input" size="5" /> 일
              </td>
              <th scope="row"><label for="cf_memo_del">쪽지 삭제</label></th>
              <td>
                <span class="frm_info">설정일이 지난 쪽지 자동 삭제</span>
                <input type="text" name="cf_memo_del" value="{{ config.cf_memo_del }}" id="cf_memo_del" class="frm_input" size="5" /> 일
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_visit_del">접속자로그 삭제</label></th>
              <td>
                <span class="frm_info">설정일이 지난 접속자 로그 자동 삭제</span>
                <input type="text" name="cf_visit_del" value="{{ config.cf_visit_del }}" id="cf_visit_del" class="frm_input" size="5" /> 일
              </td>
              <th scope="row"><label for="cf_popular_del">인기검색어 삭제</label></th>
              <td>
                <span class="frm_info">설정일이 지난 인기검색어 자동 삭제</span>
                <input type="text" name="cf_popular_del" value="{{ config.cf_popular_del }}" id="cf_popular_del" class="frm_input" size="5" /> 일
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_login_minutes">현재 접속자</label></th>
              <td>
                <span class="frm_info">설정값 이내의 접속자를 현재 접속자로 인정</span>
                <input type="text" name="cf_login_minutes" value="{{ config.cf_login_minutes }}" id="cf_login_minutes" class="frm_input" size="3" /> 분
              </td>
              <th scope="row"><label for="cf_new_rows">최근게시물 라인수</label></th>
              <td>
                <span class="frm_info">목록 한페이지당 라인수</span>
                <input type="text" name="cf_new_rows" value="{{ config.cf_new_rows }}" id="cf_new_rows" class="frm_input" size="3" /> 라인
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_page_rows">한페이지당 라인수</label></th>
              <td>
                <span class="frm_info">목록(리스트) 한페이지당 라인수</span>
                <input type="text" name="cf_page_rows" value="{{ config.cf_page_rows }}" id="cf_page_rows" class="frm_input" size="3" /> 라인
              </td>
              <th scope="row"><label for="cf_mobile_page_rows">모바일 한페이지당 라인수</label></th>
              <td>
                <span class="frm_info">모바일 목록 한페이지당 라인수</span>
                <input type="text" name="cf_mobile_page_rows" value="{{ config.cf_mobile_page_rows }}" id="cf_mobile_page_rows" class="frm_input" size="3" /> 라인
              </td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_write_pages">페이지 표시 수<strong class="blind">필수</strong></label>
              </th>
              <td><input type="text" name="cf_write_pages" value="{{ config.cf_write_pages }}" id="cf_write_pages" class="required numeric frm_input" size="3" /> 페이지씩 표시</td>
              <th scope="row">
                <label for="cf_mobile_pages">모바일 페이지 표시 수<strong class="blind">필수</strong></label>
              </th>
              <td>
                <input type="text" name="cf_mobile_pages" value="{{ config.cf_mobile_pages }}" id="cf_mobile_pages" class="required numeric frm_input" size="3" /> 페이지씩 표시
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_editor">에디터 선택</label></th>
              <td colspan="3">
                <span class="frm_info">/static/plugin/editor 밑의 DHTML 에디터 디렉토리를 선택합니다.</span>
                {{ get_editor_select('cf_editor', config.cf_editor)|safe }}
              </td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_captcha">캡챠 선택<strong class="blind">필수</strong></label>
              </th>
              <td colspan="3">
                <span class="frm_info"
                  >사용할 캡챠를 선택합니다. <br />1) reCAPTCHA V2 는 구글에서 서비스하는 원클릭 형식의 간편한 캡챠입니다. ( 모바일 친화적 UI ) <br />2) Invisible reCAPTCHA 는
                  구글에서 서비스하는 안보이는 형식의 캡챠입니다. ( 간혹 퀴즈를 풀어야 합니다. )<br />
                </span>
                <select name="cf_captcha" id="cf_captcha">
                  <option value="">사용안함</option>
                  <option value="recaptcha" {{ get_selected(config.cf_captcha, 'recaptcha')|safe }}>reCAPTCHA V2</option>
                  <option value="recaptcha_inv" {{ get_selected(config.cf_captcha, 'recaptcha_inv')|safe }}>Invisible reCAPTCHA</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_recaptcha_site_key">구글 reCAPTCHA Site key</label></th>
              <td colspan="3">
                <span class="frm_info">reCAPTCHA V2와 Invisible reCAPTCHA 캡챠의 sitekey 와 secret 키는 동일하지 않고, 서로 발급받는 키가 다릅니다.</span>
                <input type="text" name="cf_recaptcha_site_key" value="{{ config.cf_recaptcha_site_key }}" id="cf_recaptcha_site_key" class="frm_input" size="52" />
                <a href="https://www.google.com/recaptcha/admin" target="_blank" class="btn_frmline">reCAPTCHA 등록하기</a>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_recaptcha_secret_key">구글 reCAPTCHA Secret key</label></th>
              <td colspan="3">
                <input type="text" name="cf_recaptcha_secret_key" value="{{ config.cf_recaptcha_secret_key }}" id="cf_recaptcha_secret_key" class="frm_input" size="52" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_use_copy_log">복사, 이동시 로그</label></th>
              <td colspan="3">
                <span class="frm_info">게시물 아래에 누구로 부터 복사, 이동됨 표시</span>
                <input type="checkbox" name="cf_use_copy_log" value="1" id="cf_use_copy_log" {{ 'checked' if config.cf_use_copy_log else '' }} /> 남김
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_point_term">포인트 유효기간</label></th>
              <td colspan="3">
                <span class="frm_info">기간을 0으로 설정시 포인트 유효기간이 적용되지 않습니다.</span>
                <input type="text" name="cf_point_term" value="{{ config.cf_point_term }}" id="cf_point_term" class="required frm_input" size="5" /> 일
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_possible_ip">나의 IP 주소</label></th>
              <td>
                <span>{{ client_ip }}</span>
              </td>
              <th scope="row"><label for="cf_intercept_ip">서버 IP 주소</label></th>
              <td>
                <div>공인 IP: {{ host_public_ip }}</div>
                <div>사설 IP: {{ host_ip }}</div>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_possible_ip">접근가능 IP</label></th>
              <td>
                <span class="frm_info">입력된 IP의 컴퓨터만 접근할 수 있습니다.<br />123.123.+ 도 입력 가능. (엔터로 구분)</span>
                <textarea name="cf_possible_ip" id="cf_possible_ip">{{ config.cf_possible_ip }}</textarea>
              </td>
              <th scope="row"><label for="cf_intercept_ip">접근차단 IP</label></th>
              <td>
                <span class="frm_info">입력된 IP의 컴퓨터는 접근할 수 없음.<br />123.123.+ 도 입력 가능. (엔터로 구분)</span>
                <textarea name="cf_intercept_ip" id="cf_intercept_ip">{{ config.cf_intercept_ip }}</textarea>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_analytics">접속자분석 스크립트</label></th>
              <td colspan="3">
                <span class="frm_info">접속자 분석 스크립트 코드를 입력합니다. 예) 구글 애널리틱스<br />관리자 페이지에서는 이 코드를 사용하지 않습니다.</span>
                <textarea name="cf_analytics" id="cf_analytics">{{ config.cf_analytics }}</textarea>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_add_meta">추가 메타태그</label></th>
              <td colspan="3">
                <span class="frm_info">추가로 사용하실 meta 태그를 입력합니다.<br />관리자 페이지에서는 이 코드를 사용하지 않습니다.</span>
                <textarea name="cf_add_meta" id="cf_add_meta">{{ config.cf_add_meta }}</textarea>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_board">
      <h2 class="h2_frm">게시판 기본 설정</h2>

      <div class="local_desc02 local_desc">
        <p>각 게시판 관리에서 개별적으로 설정 가능합니다.</p>
      </div>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            게시판 기본 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row">
                <label for="cf_delay_sec">글쓰기 간격<strong class="blind">필수</strong></label>
              </th>
              <td><input type="text" name="cf_delay_sec" value="{{ config.cf_delay_sec }}" id="cf_delay_sec" class="required numeric frm_input" size="3" /> 초 지난후 가능</td>
              <th scope="row"><label for="cf_link_target">새창 링크</label></th>
              <td>
                <span class="frm_info">글내용중 자동 링크되는 타켓을 지정합니다.</span>
                <select name="cf_link_target" id="cf_link_target">
                  <option value="_blank" {{ get_selected(config.cf_link_target, '_blank') }}>_blank</option>
                  <option value="_self" {{ get_selected(config.cf_link_target, '_self') }}>_self</option>
                  <option value="_top" {{ get_selected(config.cf_link_target, '_top') }}>_top</option>
                  <option value="_new" {{ get_selected(config.cf_link_target, '_new') }}>_new</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <label for="cf_read_point">글읽기 포인트<strong class="blind">필수</strong></label>
              </th>
              <td><input type="text" name="cf_read_point" value="{{ config.cf_read_point }}" id="cf_read_point" class="required frm_input" size="3" /> 점</td>
              <th scope="row"><label for="cf_write_point">글쓰기 포인트</label></th>
              <td><input type="text" name="cf_write_point" value="{{ config.cf_write_point }}" id="cf_write_point" class="required frm_input" size="3" /> 점</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_comment_point">댓글쓰기 포인트</label></th>
              <td><input type="text" name="cf_comment_point" value="{{ config.cf_comment_point }}" id="cf_comment_point" class="required frm_input" size="3" /> 점</td>
              <th scope="row"><label for="cf_download_point">다운로드 포인트</label></th>
              <td><input type="text" name="cf_download_point" value="{{ config.cf_download_point }}" id="cf_download_point" class="required frm_input" size="3" /> 점</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_search_part">검색 단위</label></th>
              <td colspan="3"><input type="text" name="cf_search_part" value="{{ config.cf_search_part }}" id="cf_search_part" class="frm_input" size="4" /> 건 단위로 검색</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_image_extension">이미지 업로드 확장자</label></th>
              <td colspan="3">
                <span class="frm_info">게시판 글작성시 이미지 파일 업로드 가능 확장자. | 로 구분</span>
                <input type="text" name="cf_image_extension" value="{{ config.cf_image_extension }}" id="cf_image_extension" class="frm_input" size="70" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_flash_extension">플래쉬 업로드 확장자</label></th>
              <td colspan="3">
                <span class="frm_info">게시판 글작성시 플래쉬 파일 업로드 가능 확장자. | 로 구분</span>
                <input type="text" name="cf_flash_extension" value="{{ config.cf_flash_extension }}" id="cf_flash_extension" class="frm_input" size="70" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_movie_extension">동영상 업로드 확장자</label></th>
              <td colspan="3">
                <span class="frm_info">게시판 글작성시 동영상 파일 업로드 가능 확장자. | 로 구분</span>
                <input type="text" name="cf_movie_extension" value="{{ config.cf_movie_extension }}" id="cf_movie_extension" class="frm_input" size="70" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_filter">단어 필터링</label></th>
              <td colspan="3">
                <span class="frm_info">입력된 단어가 포함된 내용은 게시할 수 없습니다. 단어와 단어 사이는 ,로 구분합니다.</span>
                <textarea name="cf_filter" id="cf_filter" rows="7">{{ config.cf_filter }}</textarea>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_join">
      <h2 class="h2_frm">회원가입 설정</h2>

      <div class="local_desc02 local_desc">
        <p>회원가입 시, 가입설정 및 입력 받을 정보 등을 설정할 수 있습니다.</p>
      </div>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            회원가입 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row">홈페이지 입력</th>
              <td>
                <input type="checkbox" name="cf_use_homepage" value="1" id="cf_use_homepage" {{ 'checked' if config.cf_use_homepage else '' }} />
                <label for="cf_use_homepage">보이기</label>
                <input type="checkbox" name="cf_req_homepage" value="1" id="cf_req_homepage" {{ 'checked' if config.cf_req_homepage else '' }} />
                <label for="cf_req_homepage">필수입력</label>
              </td>
              <th scope="row">주소 입력</th>
              <td>
                <input type="checkbox" name="cf_use_addr" value="1" id="cf_use_addr" {{ 'checked' if config.cf_use_addr else '' }} /> <label for="cf_use_addr">보이기</label>
                <input type="checkbox" name="cf_req_addr" value="1" id="cf_req_addr" {{ 'checked' if config.cf_req_addr else '' }} /> <label for="cf_req_addr">필수입력</label>
              </td>
            </tr>
            <tr>
              <th scope="row">전화번호 입력</th>
              <td>
                <input type="checkbox" name="cf_use_tel" value="1" id="cf_use_tel" {{ 'checked' if config.cf_use_tel else '' }} /> <label for="cf_use_tel">보이기</label>
                <input type="checkbox" name="cf_req_tel" value="1" id="cf_req_tel" {{ 'checked' if config.cf_req_tel else '' }} /> <label for="cf_req_tel">필수입력</label>
              </td>
              <th scope="row">휴대폰번호 입력</th>
              <td>
                <input type="checkbox" name="cf_use_hp" value="1" id="cf_use_hp" {{ 'checked' if config.cf_use_hp else '' }} /> <label for="cf_use_hp">보이기</label>
                <input type="checkbox" name="cf_req_hp" value="1" id="cf_req_hp" {{ 'checked' if config.cf_req_hp else '' }} /> <label for="cf_req_hp">필수입력</label>
              </td>
            </tr>
            <tr>
              <th scope="row">서명 입력</th>
              <td>
                <input type="checkbox" name="cf_use_signature" value="1" id="cf_use_signature" {{ 'checked' if config.cf_use_signature else '' }} />
                <label for="cf_use_signature">보이기</label>
                <input type="checkbox" name="cf_req_signature" value="1" id="cf_req_signature" {{ 'checked' if config.cf_req_signature else '' }} />
                <label for="cf_req_signature">필수입력</label>
              </td>
              <th scope="row">자기소개 입력</th>
              <td>
                <input type="checkbox" name="cf_use_profile" value="1" id="cf_use_profile" {{ 'checked' if config.cf_use_profile else '' }} />
                <label for="cf_use_profile">보이기</label>
                <input type="checkbox" name="cf_req_profile" value="1" id="cf_req_profile" {{ 'checked' if config.cf_req_profile else '' }} />
                <label for="cf_req_profile">필수입력</label>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_register_level">회원가입시 권한</label></th>
              <td>{{ get_member_level_select('cf_register_level', 1, 9, config.cf_register_level)|safe }}</td>
              <th scope="row"><label for="cf_register_point">회원가입시 포인트</label></th>
              <td><input type="text" name="cf_register_point" value="{{ config.cf_register_point }}" id="cf_register_point" class="frm_input" size="5" /> 점</td>
            </tr>
            <tr>
              <th scope="row" id="th310"><label for="cf_leave_day">회원탈퇴후 삭제일</label></th>
              <td colspan="3"><input type="text" name="cf_leave_day" value="{{ config.cf_leave_day }}" id="cf_leave_day" class="frm_input" size="2" /> 일 후 자동 삭제</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_use_member_icon">회원아이콘 사용</label></th>
              <td>
                <span class="frm_info">게시물에 게시자 닉네임 대신 아이콘 사용</span>
                <select name="cf_use_member_icon" id="cf_use_member_icon">
                  <option value="0" {{ get_selected(config.cf_use_member_icon, 0)|safe }}>미사용</option>
                  <option value="1" {{ get_selected(config.cf_use_member_icon, 1)|safe }}>아이콘만 표시</option>
                  <option value="2" {{ get_selected(config.cf_use_member_icon, 2)|safe }}>아이콘+이름 표시</option>
                </select>
              </td>
              <th scope="row"><label for="cf_icon_level">회원 아이콘, 이미지 업로드 권한</label></th>
              <td>{{ get_member_level_select('cf_icon_level', 1, 9, config.cf_icon_level)|safe }} 이상</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_member_icon_size">회원아이콘 용량</label></th>
              <td><input type="text" name="cf_member_icon_size" value="{{ config.cf_member_icon_size }}" id="cf_member_icon_size" class="frm_input" size="10" /> 바이트 이하</td>
              <th scope="row">회원아이콘 사이즈</th>
              <td>
                <label for="cf_member_icon_width">가로</label>
                <input type="text" name="cf_member_icon_width" value="{{ config.cf_member_icon_width }}" id="cf_member_icon_width" class="frm_input" size="2" />
                <label for="cf_member_icon_height">세로</label>
                <input type="text" name="cf_member_icon_height" value="{{ config.cf_member_icon_height }}" id="cf_member_icon_height" class="frm_input" size="2" />
                픽셀 이하
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_member_img_size">회원이미지 용량</label></th>
              <td><input type="text" name="cf_member_img_size" value="{{ config.cf_member_img_size }}" id="cf_member_img_size" class="frm_input" size="10" /> 바이트 이하</td>
              <th scope="row">회원이미지 사이즈</th>
              <td>
                <label for="cf_member_img_width">가로</label>
                <input type="text" name="cf_member_img_width" value="{{ config.cf_member_img_width }}" id="cf_member_img_width" class="frm_input" size="2" />
                <label for="cf_member_img_height">세로</label>
                <input type="text" name="cf_member_img_height" value="{{ config.cf_member_img_height }}" id="cf_member_img_height" class="frm_input" size="2" />
                픽셀 이하
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_use_recommend">추천인제도 사용</label></th>
              <td><input type="checkbox" name="cf_use_recommend" value="1" id="cf_use_recommend" {{ 'checked' if config.cf_use_recommend else '' }} /> 사용</td>
              <th scope="row"><label for="cf_recommend_point">추천인 포인트</label></th>
              <td><input type="text" name="cf_recommend_point" value="{{ config.cf_recommend_point }}" id="cf_recommend_point" class="frm_input" /> 점</td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_prohibit_id">아이디,닉네임 금지단어</label></th>
              <td>
                <span class="frm_info">회원아이디, 닉네임으로 사용할 수 없는 단어를 정합니다. 쉼표 (,) 로 구분</span>
                <textarea name="cf_prohibit_id" id="cf_prohibit_id" rows="5">{{ config.cf_prohibit_id }}</textarea>
              </td>
              <th scope="row"><label for="cf_prohibit_email">입력 금지 메일</label></th>
              <td>
                <span class="frm_info">입력 받지 않을 도메인을 지정합니다. 엔터로 구분 ex) hotmail.com</span>
                <textarea name="cf_prohibit_email" id="cf_prohibit_email" rows="5">{{ config.cf_prohibit_email }}</textarea>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_stipulation">회원가입약관</label></th>
              <td colspan="3"><textarea name="cf_stipulation" id="cf_stipulation" rows="10">{{ config.cf_stipulation }}</textarea></td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_privacy">개인정보처리방침</label></th>
              <td colspan="3"><textarea id="cf_privacy" name="cf_privacy" rows="10">{{ config.cf_privacy }}</textarea></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_cert">
      <h2 class="h2_frm">본인확인 설정</h2>

      <div class="local_desc02 local_desc">
        <p>
          회원가입 시 본인확인 수단을 설정합니다.<br />
          실명과 휴대폰 번호 그리고 본인확인 당시에 성인인지의 여부를 저장합니다.<br />
          게시판의 경우 본인확인 또는 성인여부를 따져 게시물 조회 및 쓰기 권한을 줄 수 있습니다.
        </p>
      </div>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            본인확인 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_cert_use">본인확인</label></th>
              <td>
                <select name="cf_cert_use" id="cf_cert_use">
                  <option value="0" {{ get_selected(config.cf_cert_use, 0)|safe }}>사용안함</option>
                  <option value="1" {{ get_selected(config.cf_cert_use, 1)|safe }}>테스트</option>
                  <option value="2" {{ get_selected(config.cf_cert_use, 2)|safe }}>실서비스</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_find">회원정보찾기</label></th>
              <td class="cf_cert_service">
                <span class="frm_info">휴대폰/아이핀 본인확인을 이용하시다가 간편인증을 이용하시는 경우, 기존 회원은 아이디/비밀번호 찾기에 사용할 수 없을 수 있습니다.</span>
                <input type="checkbox" name="cf_cert_find" id="cf_cert_find" value="1" {{ 'checked' if config.cf_cert_find else '' }} /><label for="cf_cert_find">
                  아이디/비밀번호 찾기에 사용하기</label
                >
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_simple">통합인증(간편인증)</label></th>
              <td class="cf_cert_service">
                <span class="frm_info"
                  >KG이니시스의 통합인증(간편인증+전자서명) 서비스에서 전자서명을 제외한 간편인증 서비스 입니다.
                  <a href="https://www.inicis.com/all-auth-service" target="_blank"><u>KG이니시스 통합인증 안내</u></a></span
                >
                <select name="cf_cert_simple" id="cf_cert_simple">
                  <option value="" {{ get_selected(config.cf_cert_simple, '')|safe }}>사용안함</option>
                  <option value="inicis" {{ get_selected(config.cf_cert_simple, 'inicis')|safe }}>KG이니시스 통합인증(간편인증)</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_hp">휴대폰 본인확인</label></th>
              <td class="cf_cert_service">
                <select name="cf_cert_hp" id="cf_cert_hp">
                  <option value="" {{ get_selected(config.cf_cert_hp, '')|safe }}>사용안함</option>
                  <option value="kcb" {{ get_selected(config.cf_cert_hp, 'kcb')|safe }}>코리아크레딧뷰로(KCB) 휴대폰 본인확인</option>
                  <option value="kcp" {{ get_selected(config.cf_cert_hp, 'kcp')|safe }}>NHN KCP 휴대폰 본인확인</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_ipin">아이핀 본인확인</label></th>
              <td class="cf_cert_service">
                <select name="cf_cert_ipin" id="cf_cert_ipin">
                  <option value="" {{ get_selected(config.cf_cert_ipin, '')|safe }}>사용안함</option>
                  <option value="kcb" {{ get_selected(config.cf_cert_ipin, 'kcb')|safe }}>코리아크레딧뷰로(KCB) 아이핀</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_kg_cd">KG이니시스 간편인증 MID</label></th>
              <td class="cf_cert_service">
                <span class="sitecode">SRA</span>
                <input type="text" name="cf_cert_kg_mid" value="{{ config.cf_cert_kg_mid }}" id="cf_cert_kg_mid" class="frm_input" size="10" minlength="7" maxlength="7" />
                <a href="http://sir.kr/main/service/inicis_cert_form.php" target="_blank" class="btn_frmline">KG이니시스 통합인증(간편인증) 신청페이지</a>
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_kg_cd">KG이니시스 간편인증 API KEY</label></th>
              <td class="cf_cert_service">
                <input type="text" name="cf_cert_kg_cd" value="{{ config.cf_cert_kg_cd }}" id="cf_cert_kg_cd" class="frm_input" size="40" minlength="32" maxlength="32" />
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service">
                <label for="cf_cert_kcb_cd">코리아크레딧뷰로<br />KCB 회원사ID</label>
              </th>
              <td class="cf_cert_service">
                <span class="frm_info"
                  >KCB 회원사ID를 입력해 주십시오.<br />
                  서비스에 가입되어 있지 않다면, KCB와 계약체결 후 회원사ID를 발급 받으실 수 있습니다.<br />
                  이용하시려는 서비스에 대한 계약을 아이핀, 휴대폰 본인확인 각각 체결해주셔야 합니다.<br />
                  아이핀 본인확인 테스트의 경우에는 KCB 회원사ID가 필요 없으나,<br />
                  휴대폰 본인확인 테스트의 경우 KCB 에서 따로 발급 받으셔야 합니다.
                </span>
                <input type="text" name="cf_cert_kcb_cd" value="{{ config.cf_cert_kcb_cd }}" id="cf_cert_kcb_cd" class="frm_input" size="20" />
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_kcp_cd">NHN KCP 사이트코드</label></th>
              <td class="cf_cert_service">
                <span class="frm_info"
                  >SM으로 시작하는 5자리 사이트 코드중 뒤의 3자리만 입력해 주십시오.<br />서비스에 가입되어 있지 않다면, 본인확인 서비스 신청페이지에서 서비스 신청 후 사이트코드를
                  발급 받으실 수 있습니다.</span
                >
                <span class="sitecode">SM</span>
                <input type="text" name="cf_cert_kcp_cd" value="{{ config.cf_cert_kcp_cd }}" id="cf_cert_kcp_cd" class="frm_input" size="3" />
                <a href="http://sir.kr/main/service/p_cert.php" target="_blank" class="btn_frmline">NHN KCP 휴대폰 본인확인 서비스 신청페이지</a>
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_limit">본인확인 이용제한</label></th>
              <td class="cf_cert_service">
                <span class="frm_info"
                  >1일 단위 본인인증을 시도할 수 있는 최대횟수를 지정합니다. (0으로 설정 시 무한으로 인증시도 가능)<br />
                  아이핀/휴대폰/간편인증에서 개별 적용됩니다.</span
                >
                <input type="text" name="cf_cert_limit" value="{{ config.cf_cert_limit }}" id="cf_cert_limit" class="frm_input" size="3" /> 회
              </td>
            </tr>
            <tr>
              <th scope="row" class="cf_cert_service"><label for="cf_cert_req">본인확인 필수</label></th>
              <td class="cf_cert_service">
                <span class="frm_info">회원가입 때 본인확인을 필수로 할지 설정합니다. 필수로 설정하시면 본인확인을 하지 않은 경우 회원가입이 안됩니다.</span>
                <input type="checkbox" name="cf_cert_req" value="1" id="cf_cert_req" /> 예
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_mail">
      <h2 class="h2_frm">기본 메일 환경 설정</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            기본 메일 환경 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_email_use">메일발송 사용</label></th>
              <td>
                <span class="frm_info">체크하지 않으면 메일발송을 아예 사용하지 않습니다. 메일 테스트도 불가합니다.</span>
                <input type="checkbox" name="cf_email_use" value="1" id="cf_email_use" {{ 'checked' if config.cf_email_use else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_use_email_certify">메일인증 사용</label></th>
              <td>
                <span class="frm_info"
                  >메일에 배달된 인증 주소를 클릭하여야 회원으로 인정합니다.<br />
                  ( SNS를 이용한 소셜로그인 한 회원은 회원메일인증을 하지 않습니다. 일반회원에게만 해당됩니다. )
                </span>
                <input type="checkbox" name="cf_use_email_certify" value="1" id="cf_use_email_certify" {{ 'checked' if config.cf_use_email_certify else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_formmail_is_member">폼메일 사용 여부</label></th>
              <td>
                <span class="frm_info">체크하지 않으면 비회원도 사용 할 수 있습니다.</span>
                <input type="checkbox" name="cf_formmail_is_member" value="1" id="cf_formmail_is_member" {{ 'checked' if config.cf_formmail_is_member else '' }} /> 회원만 사용
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_article_mail">
      <h2 class="h2_frm">게시판 글 작성 시 메일 설정</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            게시판 글 작성 시 메일 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_email_wr_super_admin">최고관리자</label></th>
              <td>
                <span class="frm_info">최고관리자에게 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_wr_super_admin" value="1" id="cf_email_wr_super_admin" {{ 'checked' if config.cf_email_wr_super_admin else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_email_wr_group_admin">그룹관리자</label></th>
              <td>
                <span class="frm_info">그룹관리자에게 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_wr_group_admin" value="1" id="cf_email_wr_group_admin" {{ 'checked' if config.cf_email_wr_group_admin else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_email_wr_board_admin">게시판관리자</label></th>
              <td>
                <span class="frm_info">게시판관리자에게 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_wr_board_admin" value="1" id="cf_email_wr_board_admin" {{ 'checked' if config.cf_email_wr_board_admin else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_email_wr_write">원글작성자</label></th>
              <td>
                <span class="frm_info">게시자님께 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_wr_write" value="1" id="cf_email_wr_write" {{ 'checked' if config.cf_email_wr_write else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_email_wr_comment_all">댓글작성자</label></th>
              <td>
                <span class="frm_info">원글에 댓글이 올라오는 경우 댓글 쓴 모든 분들께 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_wr_comment_all" value="1" id="cf_email_wr_comment_all" {{ 'checked' if config.cf_email_wr_comment_all else '' }} /> 사용
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_join_mail">
      <h2 class="h2_frm">회원가입 시 메일 설정</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            회원가입 시 메일 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_email_mb_super_admin">최고관리자 메일발송</label></th>
              <td>
                <span class="frm_info">최고관리자에게 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_mb_super_admin" value="1" id="cf_email_mb_super_admin" {{ 'checked' if config.cf_email_mb_super_admin else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_email_mb_member">회원님께 메일발송</label></th>
              <td>
                <span class="frm_info">회원가입한 회원님께 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_mb_member" value="1" id="cf_email_mb_member" {{ 'checked' if config.cf_email_mb_member else '' }} /> 사용
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_poll_mail">
      <h2 class="h2_frm">설문조사 기타의견 작성 시 메일 설정</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            설문조사 기타의견 작성 시 메일 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_email_po_super_admin">최고관리자 메일발송</label></th>
              <td>
                <span class="frm_info">최고관리자에게 메일을 발송합니다.</span>
                <input type="checkbox" name="cf_email_po_super_admin" value="1" id="cf_email_po_super_admin" {{ 'checked' if config.cf_email_po_super_admin else '' }} /> 사용
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_sns">
      <h2 class="h2_frm">소셜네트워크서비스(SNS : Social Network Service)</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            소셜네트워크서비스 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_social_login_use">소셜로그인설정</label></th>
              <td colspan="3">
                <span class="frm_info"
                  >소셜로그인을 사용합니다. <a href="https://sir.kr/manual/g5/276" class="btn btn_03" target="_blank" style="margin-left:10px">설정 관련 메뉴얼 보기</a>
                </span>
                <input type="checkbox" name="cf_social_login_use" value="1" id="cf_social_login_use" {{ 'checked' if config.cf_social_login_use else '' }} /> 사용
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_social_servicelist">소셜로그인설정</label></th>
              <td colspan="3" class="social_config_explain">
                <div class="explain_box">
                  <input type="checkbox" name="cf_social_servicelist[]" id="check_social_naver" value="naver" {{ option_array_checked('naver', config.cf_social_servicelist) }} />
                  <label for="check_social_naver">네이버 로그인을 사용합니다</label>
                  <div>
                    <h3>네이버 CallbackURL</h3>
                    <p>{{ request.base_url }}bbs/social/login/callback?provider=naver</p>
                  </div>
                </div>
                <div class="explain_box">
                  <input type="checkbox" name="cf_social_servicelist[]" id="check_social_kakao" value="kakao" {{ option_array_checked('kakao', config.cf_social_servicelist) }} />
                  <label for="check_social_kakao">카카오 로그인을 사용합니다</label>
                  <div>
                    <h3>카카오 로그인 Redirect URI</h3>
                    <p>{{ request.base_url }}bbs/social/login/callback?provider=kakao</p>
                  </div>
                </div>
                <div class="explain_box">
                  <input
                    type="checkbox"
                    name="cf_social_servicelist[]"
                    id="check_social_facebook"
                    value="facebook"
                    {{ option_array_checked('facebook', config.cf_social_servicelist) }}
                  />
                  <label for="check_social_facebook">페이스북 로그인을 사용합니다</label>
                  <div>
                    <h3>페이스북 유효한 OAuth 리디렉션 URI</h3>
                    <p>{{ request.base_url }}bbs/social/login/callback?provider=facebook</p>
                  </div>
                </div>
                <div class="explain_box">
                  <input
                    type="checkbox"
                    name="cf_social_servicelist[]"
                    id="check_social_google"
                    value="google"
                    {{ option_array_checked('google', config.cf_social_servicelist) }}
                  />
                  <label for="check_social_google">구글 로그인을 사용합니다</label>
                  <div>
                    <h3>구글 승인된 리디렉션 URI</h3>
                    <p>{{ request.base_url }}bbs/social/login/callback?provider=google</p>
                  </div>
                </div>
                <div class="explain_box">
                  <input
                    type="checkbox"
                    name="cf_social_servicelist[]"
                    id="check_social_twitter"
                    value="twitter"
                    {{ option_array_checked('twitter', config.cf_social_servicelist) }}
                  />
                  <label for="check_social_twitter">X(트위터) 로그인을 사용합니다</label>
                  <div>
                    <h3>X(트위터) CallbackURL</h3>
                    <p>{{ request.base_url }}bbs/social/login/callback?provider=twitter</p>
                  </div>
                </div>
                <div class="explain_box">
                  <input type="checkbox" name="cf_social_servicelist[]" id="check_social_payco" value="payco" {{ option_array_checked('payco', config.cf_social_servicelist) }} />
                  <label for="check_social_payco">페이코 로그인을 사용합니다</label>
                  <div>
                    <h3>페이코 CallbackURL</h3>
                    <p>{{ request.base_url }}bbs/social/login/callback?provider=payco</p>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_naver_clientid">네이버 Client ID</label></th>
              <td>
                <input type="text" name="cf_naver_clientid" value="{{ config.cf_naver_clientid }}" id="cf_naver_clientid" class="frm_input" size="40" />
                <a href="https://developers.naver.com/apps/#/register" target="_blank" class="btn_frmline">앱 등록하기</a>
              </td>
              <th scope="row"><label for="cf_naver_secret">네이버 Client Secret</label></th>
              <td>
                <input type="text" name="cf_naver_secret" value="{{ config.cf_naver_secret }}" id="cf_naver_secret" class="frm_input" size="45" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_facebook_appid">페이스북 앱 ID</label></th>
              <td>
                <input type="text" name="cf_facebook_appid" value="{{ config.cf_facebook_appid }}" id="cf_facebook_appid" class="frm_input" size="40" />
                <a href="https://developers.facebook.com/apps" target="_blank" class="btn_frmline">앱 등록하기</a>
              </td>
              <th scope="row"><label for="cf_facebook_secret">페이스북 앱 Secret</label></th>
              <td>
                <input type="text" name="cf_facebook_secret" value="{{ config.cf_facebook_secret }}" id="cf_facebook_secret" class="frm_input" size="45" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_twitter_key">트위터 컨슈머 Key</label></th>
              <td>
                <input type="text" name="cf_twitter_key" value="{{ config.cf_twitter_key }}" id="cf_twitter_key" class="frm_input" size="40" />
                <a href="https://developer.twitter.com/en/apps" target="_blank" class="btn_frmline">앱 등록하기</a>
              </td>
              <th scope="row"><label for="cf_twitter_secret">트위터 컨슈머 Secret</label></th>
              <td>
                <input type="text" name="cf_twitter_secret" value="{{ config.cf_twitter_secret }}" id="cf_twitter_secret" class="frm_input" size="45" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_google_clientid">구글 Client ID</label></th>
              <td>
                <input type="text" name="cf_google_clientid" value="{{ config.cf_google_clientid }}" id="cf_google_clientid" class="frm_input" size="40" />
                <a href="https://console.developers.google.com" target="_blank" class="btn_frmline">앱 등록하기</a>
              </td>
              <th scope="row"><label for="cf_google_secret">구글 Client Secret</label></th>
              <td>
                <input type="text" name="cf_google_secret" value="{{ config.cf_google_secret }}" id="cf_google_secret" class="frm_input" size="45" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_googl_shorturl_apikey">구글 짧은주소 API Key</label></th>
              <td colspan="3">
                <input type="text" name="cf_googl_shorturl_apikey" value="{{ config.cf_googl_shorturl_apikey }}" id="cf_googl_shorturl_apikey" class="frm_input" size="40" />
                <a href="https://code.google.com/apis/console/" target="_blank" class="btn_frmline">API Key 등록하기</a>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_kakao_rest_key">카카오 REST API 키</label></th>
              <td>
                <input type="text" name="cf_kakao_rest_key" value="{{ config.cf_kakao_rest_key }}" id="cf_kakao_rest_key" class="frm_input" size="40" />
                <a href="https://developers.kakao.com/product/kakaoLogin" target="_blank" class="btn_frmline">앱 등록하기</a>
              </td>
              <th scope="row"><label for="cf_kakao_client_secret">카카오 Client Secret</label></th>
              <td>
                <input type="text" name="cf_kakao_client_secret" value="{{ config.cf_kakao_client_secret }}" id="cf_kakao_client_secret" class="frm_input" size="45" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_kakao_js_apikey">카카오 JavaScript 키</label></th>
              <td colspan="3">
                <input type="text" name="cf_kakao_js_apikey" value="{{ config.cf_kakao_js_apikey }}" id="cf_kakao_js_apikey" class="frm_input" size="45" />
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_payco_clientid">페이코 Client ID</label></th>
              <td>
                <input type="text" name="cf_payco_clientid" value="{{ config.cf_payco_clientid }}" id="cf_payco_clientid" class="frm_input" size="40" />
                <a href="https://developers.payco.com/guide" target="_blank" class="btn_frmline">앱 등록하기</a>
              </td>
              <th scope="row"><label for="cf_payco_secret">페이코 Secret</label></th>
              <td>
                <input type="text" name="cf_payco_secret" value="{{ config.cf_payco_secret }}" id="cf_payco_secret" class="frm_input" size="45" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_lay">
      <h2 class="h2_frm">레이아웃 추가설정</h2>

      <div class="local_desc02 local_desc">
        <p>기본 설정된 파일 경로 및 script, css 를 추가하거나 변경할 수 있습니다.</p>
      </div>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            레이아웃 추가설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_add_script">추가 script, css</label></th>
              <td>
                <span class="frm_info">HTML의 &lt;/HEAD&gt; 태그위로 추가될 JavaScript와 css 코드를 설정합니다.<br />관리자 페이지에서는 이 코드를 사용하지 않습니다.</span>
                <textarea name="cf_add_script" id="cf_add_script">{{ config.cf_add_script }}</textarea>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_sms">
      <h2 class="h2_frm">SMS</h2>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            SMS 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            <tr>
              <th scope="row"><label for="cf_sms_use">SMS 사용</label></th>
              <td>
                <select id="cf_sms_use" name="cf_sms_use">
                  <option value="" {{ get_selected(config.cf_sms_use, '')|safe }}>사용안함</option>
                  <option value="icode" {{ get_selected(config.cf_sms_use, 'icode')|safe }}>아이코드</option>
                </select>
              </td>
            </tr>
            <tr>
              <th scope="row"><label for="cf_sms_type">SMS 전송유형</label></th>
              <td>
                <span class="frm_info"
                  >전송유형을 SMS로 선택하시면 최대 80바이트까지 전송하실 수 있으며<br />LMS로 선택하시면 90바이트 이하는 SMS로, 그 이상은 1500바이트까지 LMS로 전송됩니다.<br />요금은
                  건당 SMS는 16원, LMS는 48원입니다.</span
                >
                <select id="cf_sms_type" name="cf_sms_type">
                  <option value="" {{ get_selected(config.cf_sms_type, '')|safe }}>SMS</option>
                  <option value="LMS" {{ get_selected(config.cf_sms_type, 'LMS')|safe }}>LMS</option>
                </select>
              </td>
            </tr>
            <tr class="icode_old_version">
              <th scope="row">
                <label for="cf_icode_id">아이코드 회원아이디<br />(구버전)</label>
              </th>
              <td>
                <span class="frm_info">아이코드에서 사용하시는 회원아이디를 입력합니다.</span>
                <input type="text" name="cf_icode_id" value="{{ config.cf_icode_id }}" id="cf_icode_id" class="frm_input" size="20" />
              </td>
            </tr>
            <tr class="icode_old_version">
              <th scope="row">
                <label for="cf_icode_pw">아이코드 비밀번호<br />(구버전)</label>
              </th>
              <td>
                <span class="frm_info">아이코드에서 사용하시는 비밀번호를 입력합니다.</span>
                <input type="password" name="cf_icode_pw" value="{{ config.cf_icode_pw }}" id="cf_icode_pw" class="frm_input" />
              </td>
            </tr>
            <tr class="icode_old_version cf_tr_hide">
              <th scope="row">요금제<br />(구버전)</th>
              <td>
                <input type="hidden" name="cf_icode_server_ip" value="211.172.232.124" />
                가입해주세요.<input type="hidden" name="cf_icode_server_port" value="7295" />
              </td>
            </tr>
            <tr class="icode_json_version">
              <th scope="row">
                <label for="cf_icode_token_key">아이코드 토큰키<br />(JSON버전)</label>
              </th>
              <td>
                <span class="frm_info"
                  >아이코드 JSON 버전의 경우 아이코드 토큰키를 입력시 실행됩니다.<br />SMS 전송유형을 LMS로 설정시 90바이트 이내는 SMS, 90 ~ 2000 바이트는 LMS 그 이상은 절삭 되어
                  LMS로 발송됩니다.</span
                >
                <input type="text" name="cf_icode_token_key" value="{{ config.cf_icode_token_key }}" id="cf_icode_token_key" class="frm_input" size="40" />
                <span class="frm_info">아이코드 사이트 -> 토큰키관리 메뉴에서 생성한 토큰키를 입력합니다.</span><br />
                서버아이피 : {{ host_ip }}<br />
              </td>
            </tr>
            <tr>
              <th scope="row">아이코드 SMS 신청<br />회원가입</th>
              <td>
                <a href="https://icodekorea.com/res/join_company_fix_a.php?sellid=sir2" target="_blank" class="btn_frmline">아이코드 회원가입</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="anc_cf_extra">
      <h2 class="h2_frm">여분필드 기본 설정</h2>

      <div class="local_desc02 local_desc">
        <p>각 게시판 관리에서 개별적으로 설정 가능합니다.</p>
      </div>

      <div class="tbl_frm01 tbl_wrap">
        <table>
          <caption>
            여분필드 기본 설정
          </caption>
          <colgroup>
            <col class="grid_4" />
            <col />
          </colgroup>
          <tbody>
            {% for i in range(1, 11) %}
              <tr>
                <th scope="row">여분필드{{ i }}</th>
                <td class="td_extra">
                  <label for="cf_{{ i }}_subj">여분필드{{ i }} 제목</label>
                  <input type="text" name="cf_{{ i }}_subj" value="{{ getattr(config, 'cf_' ~ i ~ '_subj') }}" id="cf_{{ i }}_subj" class="frm_input" size="30" />
                  <label for="cf_{{ i }}">여분필드{{ i }} 값</label>
                  <input type="text" name="cf_{{ i }}" value="{{ getattr(config, 'cf_' ~ i) }}" id="cf_{{ i }}" class="frm_input extra-value-input" size="30" />
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>

    <div class="btn_fixed_top btn_confirm">
      <input type="submit" value="확인" class="btn_submit btn" accesskey="s" />
    </div>
  </form>

  <script>
    $(function () {
      // 본인확인 설정
      if ($('#cf_cert_use').val() == 0) {
        $('.cf_cert_service').addClass('cf_cert_hide');
      }
      $('#cf_cert_use').change(function () {
        switch ($(this).val()) {
          case '0':
            $('.cf_cert_service').addClass('cf_cert_hide');
            break;
          default:
            $('.cf_cert_service').removeClass('cf_cert_hide');
            break;
        }
      });
    });

    function fconfigform_submit(f) {
      var current_user_ip = '{{ clien_ip }}';
      var cf_intercept_ip_val = f.cf_intercept_ip.value;

      if (cf_intercept_ip_val && current_user_ip) {
        var cf_intercept_ips = cf_intercept_ip_val.split('\n');

        for (var i = 0; i < cf_intercept_ips.length; i++) {
          if (cf_intercept_ips[i].trim()) {
            cf_intercept_ips[i] = cf_intercept_ips[i].replace('.', '\.');
            cf_intercept_ips[i] = cf_intercept_ips[i].replace('+', '[0-9\.]+');

            var re = new RegExp(cf_intercept_ips[i]);
            if (re.test(current_user_ip)) {
              alert('현재 접속 IP : ' + current_user_ip + ' 가 차단될수 있기 때문에, 다른 IP를 입력해 주세요.');
              return false;
            }
          }
        }
      }

      // 토큰 생성은 폼 체크의 가장 마지막에서 한다.
      f.token.value = generate_token();

      return true;
    }
  </script>

  <script>
    window.addEventListener('scroll', () => {
      const sections = document.querySelectorAll('section');
      const gnbItems = document.querySelectorAll('.anchor li');

      let currentActiveSectionIndex = -1;

      sections.forEach((section, index) => {
        const top = window.scrollY; //현재 Y값
        const sectionTop = section.offsetTop - 142; // 섹션 상단의 Y값 - Gnb메뉴 높이 값
        const sectionHeight = section.offsetHeight; // 섹션 높이

        if (top >= sectionTop && top < sectionTop + sectionHeight) {
          currentActiveSectionIndex = index;
        }
      });

      gnbItems.forEach((gnbItem, index) => {
        if (index === currentActiveSectionIndex) {
          gnbItem.classList.add('active');
          // location.hash = sectionId
        } else {
          gnbItem.classList.remove('active');
        }
      });
    });

    const gnbItemAnchors = document.querySelectorAll('.anchor li a');

    gnbItemAnchors.forEach(gnbItemAnchor => {
      gnbItemAnchor.addEventListener('click', function () {
        location.hash = gnbItemAnchor.getAttribute('href');
      });
    });
  </script>
{% endblock content %}
